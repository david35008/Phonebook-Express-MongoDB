{"version":3,"sources":["components/Person.js","components/Notification.js","services/personsAjax.js","App.js","index.js"],"names":["Person","person","handleClick","className","id","name","number","onClick","e","target","parentNode","Notification","message","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","phonebook","setPhonebook","newPerson","setNewPerson","newPhoneNumber","setPhoneNumber","errorMessage","fetchData","phonebookService","res","useEffect","map","i","key","onSubmit","event","preventDefault","noteObject","method","some","value","placeholder","onChange","required","type","ReactDOM","render","document","getElementById"],"mappings":"2MAYeA,EAVA,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,YACxB,OACE,wBAAIC,UAAU,SAASC,GAAIH,EAAOG,IAAlC,SACQH,EAAOI,KADf,IACqB,6BADrB,iBAEgBJ,EAAOK,OACtB,4BAAQC,QAAS,SAACC,GAAD,OAAON,EAAYM,EAAEC,OAAOC,WAAWN,MAAxD,YCOUO,EAZM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAIP,yBAAKT,UAAU,SACZS,I,gBCRDC,EAAU,eAuBD,EArBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAmB5B,EAhBA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAc5B,EAXA,SAACd,EAAIe,GAElB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBT,GAAMe,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAS5B,EANA,SAACd,GAEd,OADgBU,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BT,IAC5BY,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SC8E5BK,EA7FH,WAAO,IAAD,EACkBC,mBAAS,IAD3B,mBACTC,EADS,KACEC,EADF,OAEkBF,mBAAS,IAF3B,mBAETG,EAFS,KAEEC,EAFF,OAGyBJ,mBAAS,IAHlC,mBAGTK,EAHS,KAGOC,EAHP,OAIwBN,mBAAS,MAJjC,mBAITO,EAJS,KAMZC,GANY,KAMA,WAChBC,IAEKjB,MAAK,SAAAkB,GACJR,EAAaQ,QAInBC,qBAAU,WACRH,MACC,IAEH,IAmCM9B,EAAc,SAACM,GACnByB,EAAwBzB,GACvBQ,MAAK,WACJgB,QAKJ,OACE,6BACE,0CACA,kBAAC,EAAD,CAAcpB,QAASmB,IACvB,4BACGN,EAAUW,KAAI,SAACnC,EAAQoC,GAAT,OACb,kBAAC,EAAD,CACEC,IAAKD,EACLpC,OAAQA,EACRC,YAAaA,QAInB,0BAAMqC,SAxDQ,SAACC,GACjBA,EAAMC,iBAEN,IAKIrC,EALEsC,EAAa,CACjBrC,KAAMsB,EACNrB,OAAQuB,GAENc,GAAS,EAEblB,EAAUmB,MAAK,SAAA3C,GACVA,EAAOI,OAASsB,IACjBgB,GAAS,EACTvC,EAAKH,EAAOG,OAGZuC,EAGFV,EAAwB7B,EAAIsC,GAF5BT,EAAwBS,GAIxBV,IACAJ,EAAa,IACbE,EAAe,MAmCb,2BACEe,MAAOlB,EACPmB,YAAa,mBACbC,SAjCmB,SAACP,GAC1BZ,EAAaY,EAAM/B,OAAOoC,QAiCpBG,UAAQ,IAET,2BACCH,MAAOhB,EACPiB,YAAa,0BACbC,SAnCwB,SAACP,GAC/BV,EAAeU,EAAM/B,OAAOoC,QAmCtBG,UAAQ,IAEV,4BAAQC,KAAK,UAAb,W,MCvFRC,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.09242340.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, handleClick }) => {\n  return (\n    <li className='person' id={person.id}>\n     Name: {person.name} <br/>\n     Phone number: {person.number}\n     <button onClick={(e) => handleClick(e.target.parentNode.id)} >delete</button>\n    </li>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react';\nimport Person from './components/Person';\nimport Notification from './components/Notification';\nimport phonebookService from './services/personsAjax';\n\nconst App = () => {\n  const [phonebook, setPhonebook] = useState([]) ;\n  const [newPerson, setNewPerson] = useState('');\n  const [newPhoneNumber, setPhoneNumber] = useState('');\n  const [errorMessage, setErrorMessage] = useState(null);\n\nconst fetchData = () => {\n  phonebookService\n      .getAll()\n      .then(res => {\n        setPhonebook(res);\n      });\n}\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const noteObject = {\n      name: newPerson,\n      number: newPhoneNumber\n    };\n    let method = false;\n    let id\n    phonebook.some(person => {\n      if(person.name === newPerson) {\n        method = true\n        id = person.id\n    } \n    })\n    if(!method) {\n      phonebookService.create(noteObject)\n    } else {\n      phonebookService.update(id, noteObject)\n      }\n      fetchData();\n      setNewPerson('');\n      setPhoneNumber('');\n  }\n  \n\n\n  const handlePersonChange = (event) => {\n    setNewPerson(event.target.value);\n  };\n\n  const handlePhoneNumberChange = (event) => {\n    setPhoneNumber(event.target.value);\n  };\n\n  const handleClick = (e) => {\n    phonebookService.remove(e)\n    .then(()=> {\n      fetchData();\n    }\n    )\n  }\n\n  return (\n    <div>\n      <h1>Phone Book</h1>\n      <Notification message={errorMessage} />\n      <ul>\n        {phonebook.map((person, i) => \n          <Person\n            key={i}\n            person={person} \n            handleClick={handleClick}\n          />\n        )}\n      </ul>\n      <form onSubmit={addPerson}>\n        <input\n          value={newPerson}\n          placeholder={'Type new name...'}\n          onChange={handlePersonChange}\n          required\n        />\n         <input\n          value={newPhoneNumber}\n          placeholder={'Type new phoneNumber...'}\n          onChange={handlePhoneNumberChange}\n          required\n        />\n        <button type=\"submit\">save</button>\n      </form>   \n    </div>\n  )\n}\n\nexport default App ","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}