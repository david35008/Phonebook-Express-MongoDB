{"version":3,"sources":["components/Person.js","components/Notification.js","services/personsAjax.js","App.js","index.js"],"names":["Person","person","deleteContact","className","id","name","number","onClick","e","target","parentNode","Notification","message","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","phonebook","setPhonebook","newPerson","setNewPerson","newPhoneNumber","setPhoneNumber","errorMessage","setErrorMessage","fetchData","phonebookService","res","useEffect","event","catch","error","onSubmit","preventDefault","noteObject","method","forEach","value","placeholder","onChange","required","type","map","i","key","ReactDOM","render","document","getElementById"],"mappings":"2MAgBeA,EAdA,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,cACxB,OACE,wBAAIC,UAAU,SAASC,GAAIH,EAAOG,IAC9B,6BACGH,EAAOI,MAEV,6BACGJ,EAAOK,QAEV,4BAAQC,QAAS,SAACC,GAAD,OAAON,EAAcM,EAAEC,OAAOC,WAAWN,MAA1D,YCGOO,EAZM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAIP,yBAAKT,UAAU,SACZS,I,gBCRDC,EAAU,eAuBD,EArBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAmB5B,EAhBA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAc5B,EAXA,SAACd,EAAIe,GAElB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBT,GAAMe,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAS5B,EANA,SAACd,GAEd,OADgBU,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BT,IAC5BY,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCiF5BK,EAhGH,WAAO,IAAD,EACkBC,mBAAS,IAD3B,mBACTC,EADS,KACEC,EADF,OAEkBF,mBAAS,IAF3B,mBAETG,EAFS,KAEEC,EAFF,OAGyBJ,mBAAS,IAHlC,mBAGTK,EAHS,KAGOC,EAHP,OAIwBN,mBAAS,MAJjC,mBAITO,EAJS,KAIKC,EAJL,KAMVC,EAAY,WAChBC,IAEGlB,MAAK,SAAAmB,GACJT,EAAaS,OAInBC,qBAAU,WACRH,MACC,IAEH,IAiCM/B,EAAgB,SAACmC,GACrBH,EAAwBG,GACrBrB,MAAK,WACJiB,OAEAK,OAAM,SAAAC,GAAK,OACXP,EAAgBO,EAAM3B,aAK5B,OACE,6BACE,0CACA,kBAAC,EAAD,CAAcA,QAASmB,IACvB,0BAAMS,SAhDQ,SAACH,GACjBA,EAAMI,iBAEN,IAKIrC,EALEsC,EAAa,CACjBrC,KAAMsB,EACNrB,OAAQuB,GAENc,GAAS,EAEblB,EAAUmB,SAAQ,SAAA3C,GACZA,EAAOI,OAASsB,IAClBgB,GAAS,EACTvC,EAAKH,EAAOG,OAGXuC,EAGHT,EAAwB9B,EAAIsC,GAF5BR,EAAwBQ,GAI1BT,IACAL,EAAa,IACbE,EAAe,MA2BX,2BACEe,MAAOlB,EACPmB,YAAa,mBACbC,SA3BmB,SAACV,GAC1BT,EAAaS,EAAM5B,OAAOoC,QA2BpBG,UAAQ,IAEV,2BACEH,MAAOhB,EACPiB,YAAa,0BACbC,SA7BwB,SAACV,GAC/BP,EAAeO,EAAM5B,OAAOoC,QA6BtBG,UAAQ,IAEV,4BAAQC,KAAK,UAAb,SAEF,yBAAK9C,UAAU,iBACb,wBAAIA,UAAU,SACXsB,EAAUyB,KAAI,SAACjD,EAAQkD,GAAT,OACb,kBAAC,EAAD,CACEC,IAAKD,EACLlD,OAAQA,EACRC,cAAeA,W,MCvF7BmD,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.44a5f553.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, deleteContact }) => {\n  return (\n    <li className='person' id={person.id}>\n        <div>\n          {person.name}\n        </div>\n        <div>\n          {person.number}\n        </div>\n        <button onClick={(e) => deleteContact(e.target.parentNode.id)} >Delete</button>\n    </li>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react';\nimport Person from './components/Person';\nimport Notification from './components/Notification';\nimport phonebookService from './services/personsAjax';\n\nconst App = () => {\n  const [phonebook, setPhonebook] = useState([]);\n  const [newPerson, setNewPerson] = useState('');\n  const [newPhoneNumber, setPhoneNumber] = useState('');\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const fetchData = () => {\n    phonebookService\n      .getAll()\n      .then(res => {\n        setPhonebook(res);\n      });\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const noteObject = {\n      name: newPerson,\n      number: newPhoneNumber\n    };\n    let method = false;\n    let id\n    phonebook.forEach(person => {\n      if (person.name === newPerson) {\n        method = true\n        id = person.id\n      }\n    })\n    if (!method) {\n      phonebookService.create(noteObject)\n    } else {\n      phonebookService.update(id, noteObject)\n    }\n    fetchData();\n    setNewPerson('');\n    setPhoneNumber('');\n  }\n\n  const handlePersonChange = (event) => {\n    setNewPerson(event.target.value);\n  };\n\n  const handlePhoneNumberChange = (event) => {\n    setPhoneNumber(event.target.value);\n  };\n\n  const deleteContact = (event) => {\n    phonebookService.remove(event)\n      .then(() => {\n        fetchData();\n      }\n      ).catch(error =>\n        setErrorMessage(error.message)\n      )\n\n  }\n\n  return (\n    <div>\n      <h1>Phone Book</h1>\n      <Notification message={errorMessage} />\n      <form onSubmit={addPerson}>\n        <input\n          value={newPerson}\n          placeholder={'Type new name...'}\n          onChange={handlePersonChange}\n          required\n        />\n        <input\n          value={newPhoneNumber}\n          placeholder={'Type new phoneNumber...'}\n          onChange={handlePhoneNumberChange}\n          required\n        />\n        <button type=\"submit\">save</button>\n      </form >\n      <div className='phonebookList'>\n        <ul className='panel'>\n          {phonebook.map((person, i) =>\n            <Person\n              key={i}\n              person={person}\n              deleteContact={deleteContact}\n            />\n          )}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default App ","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}